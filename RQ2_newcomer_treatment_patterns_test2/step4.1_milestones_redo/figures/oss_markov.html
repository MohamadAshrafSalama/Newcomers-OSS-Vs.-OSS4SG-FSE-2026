<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 900px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
            <div id="legend" class="card-body">
              <div><span style="display:inline-block;width:12px;height:12px;background:#e41a1c;margin-right:8px;"></span>61.62%: First Interaction → First Merged Pull Request → High Acceptance Threshold → Core Achievement</div>
              <div><span style="display:inline-block;width:12px;height:12px;background:#377eb8;margin-right:8px;"></span>10.71%: First Interaction → First Merged Pull Request → High Acceptance Threshold → Failure Recovery Resilience → Core Achievement</div>
              <div><span style="display:inline-block;width:12px;height:12px;background:#4daf4a;margin-right:8px;"></span>8.13%: First Interaction → First Merged Pull Request → High Acceptance Threshold → Failure Recovery Resilience → Sustained Participation Over 12 Weeks → Core Achievement</div>
            </div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([
                    {"color": "#FB7E81", "font": {"color": "black", "size": 24}, "id": "START", "label": "Initial Interaction", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "FirstMergedPullRequest", "label": "First Merged Pull Request", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "HighAcceptanceTrajectory", "label": "High Acceptance Trajectory", "margin": 15, "shape": "box"},
                    {"color": "#FB7E81", "font": {"color": "black", "size": 24}, "id": "END", "label": "Core Achievement", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "FailureRecovery", "label": "Failure Recovery", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "DirectCommitAccessProxy", "label": "Direct Commit Access", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "SustainedParticipation12w", "label": "Sustained Participation (12w)", "margin": 15, "shape": "box"},
                    {"color": "#97C2FC", "font": {"color": "black", "size": 24}, "id": "ReturnAfterExtendedAbsence", "label": "Return After Extended Absence", "margin": 15, "shape": "box"}
                  ]);
                  edges = new vis.DataSet([{"arrows": "to", "color": "red", "font": {"color": "gray", "size": 18}, "from": "START", "title": "0.64", "to": "FirstMergedPullRequest", "value": 0.6441119063109955, "width": 5}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "START", "title": "0.10", "to": "FailureRecovery", "value": 0.09726740403383215, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "START", "title": "0.11", "to": "ReturnAfterExtendedAbsence", "value": 0.11418347430058555, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "START", "title": "0.14", "to": "SustainedParticipation12w", "value": 0.14443721535458687, "width": 2}, {"arrows": "to", "color": "red", "font": {"color": "gray", "size": 18}, "from": "FirstMergedPullRequest", "title": "0.85", "to": "HighAcceptanceTrajectory", "value": 0.8508064516129032, "width": 5}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FirstMergedPullRequest", "title": "0.06", "to": "END", "value": 0.05524193548387097, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FirstMergedPullRequest", "title": "0.06", "to": "FailureRecovery", "value": 0.059274193548387095, "width": 2}, {"arrows": "to", "color": "red", "font": {"color": "gray", "size": 18}, "from": "HighAcceptanceTrajectory", "title": "0.61", "to": "END", "value": 0.6125511596180082, "width": 5}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "HighAcceptanceTrajectory", "title": "0.28", "to": "FailureRecovery", "value": 0.2760345611641655, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FailureRecovery", "title": "0.45", "to": "END", "value": 0.44680851063829785, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FailureRecovery", "title": "0.21", "to": "FirstMergedPullRequest", "value": 0.20851063829787234, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FailureRecovery", "title": "0.20", "to": "SustainedParticipation12w", "value": 0.19659574468085106, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "FailureRecovery", "title": "0.05", "to": "HighAcceptanceTrajectory", "value": 0.05106382978723404, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "DirectCommitAccessProxy", "title": "0.94", "to": "END", "value": 0.9395973154362416, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "SustainedParticipation12w", "title": "0.72", "to": "END", "value": 0.7166853303471444, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "SustainedParticipation12w", "title": "0.13", "to": "FirstMergedPullRequest", "value": 0.1265397536394177, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "SustainedParticipation12w", "title": "0.06", "to": "ReturnAfterExtendedAbsence", "value": 0.055991041433370664, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "SustainedParticipation12w", "title": "0.07", "to": "FailureRecovery", "value": 0.06606942889137737, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "ReturnAfterExtendedAbsence", "title": "0.24", "to": "FirstMergedPullRequest", "value": 0.23588039867109634, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "ReturnAfterExtendedAbsence", "title": "0.47", "to": "END", "value": 0.473421926910299, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "ReturnAfterExtendedAbsence", "title": "0.13", "to": "SustainedParticipation12w", "value": 0.12956810631229235, "width": 2}, {"arrows": "to", "color": "gray", "font": {"color": "gray", "size": 18}, "from": "ReturnAfterExtendedAbsence", "title": "0.10", "to": "FailureRecovery", "value": 0.10465116279069768, "width": 2}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // Highlight top three pathways
                  (function() {
                    // Reset all edges to base style
                    edges.forEach(function (e) {
                      edges.update({id: e.id, color: 'gray', width: 2});
                    });

                    var topPaths = [
                      { color: '#e41a1c', width: 6, edges: [
                        ["START","FirstMergedPullRequest"],
                        ["FirstMergedPullRequest","HighAcceptanceTrajectory"],
                        ["HighAcceptanceTrajectory","END"]
                      ]},
                      { color: '#377eb8', width: 5, edges: [
                        ["START","FirstMergedPullRequest"],
                        ["FirstMergedPullRequest","HighAcceptanceTrajectory"],
                        ["HighAcceptanceTrajectory","FailureRecovery"],
                        ["FailureRecovery","END"]
                      ]},
                      { color: '#4daf4a', width: 5, edges: [
                        ["START","FirstMergedPullRequest"],
                        ["FirstMergedPullRequest","HighAcceptanceTrajectory"],
                        ["HighAcceptanceTrajectory","FailureRecovery"],
                        ["FailureRecovery","SustainedParticipation12w"],
                        ["SustainedParticipation12w","END"]
                      ]}
                    ];

                    var edgeIdByKey = {};
                    edges.forEach(function (e) {
                      edgeIdByKey[String(e.from) + '||' + String(e.to)] = e.id;
                    });

                    topPaths.forEach(function (p) {
                      p.edges.forEach(function (pair) {
                        var key = pair[0] + '||' + pair[1];
                        var id = edgeIdByKey[key];
                        if (id !== undefined) {
                          edges.update({id: id, color: p.color, width: p.width});
                        }
                      });
                    });
                  })();

                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"configure": {"enabled": true}, "nodes": {"font": {"size": 28}}, "edges": {"smooth": {"type": "continuous"}}, "physics": {"enabled": false}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>
